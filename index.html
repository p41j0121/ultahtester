<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ulang Tahun Ultra WOW!</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap');
*{margin:0;padding:0;box-sizing:border-box;font-family:'Poppins',sans-serif;}
html,body{width:100%;height:100%;overflow:hidden;}
body{background:linear-gradient(120deg,#ff9a9e,#fad0c4); transition:background 2s;}
#container{position:relative;width:100%;height:100%;cursor:pointer; overflow:hidden;display:flex;flex-direction:column;justify-content:center;align-items:center;}
h1{
  font-size:2.5em;color:#fff;text-shadow:0 0 10px #fff,0 0 20px #ff4081,0 0 30px #ff4081;
  opacity:0; text-align:center; margin:0;
}
.line1{animation:fadeInText 2s forwards;}
.line2{animation:fadeInText 2s forwards;animation-delay:1s;}
@keyframes fadeInText{
  0%{opacity:0; transform:translateY(20px);}
  100%{opacity:1; transform:translateY(0);}
}
#startBtn{
  margin-top:30px;
  padding:12px 25px;font-size:1em;color:#fff;background:#ff4081;border:none;border-radius:12px;cursor:pointer;opacity:0;
  z-index:10;transition:0.3s;
}
#startBtn.show{opacity:1; transform:scale(1);}
#startBtn:hover{transform:scale(1.05);}
.photo{position:absolute;border-radius:12px;box-shadow:0 5px 15px rgba(0,0,0,0.5);transition:0.5s;opacity:0; transform:scale(0); z-index:5;}
.emoji{position:absolute;font-size:2em;pointer-events:none;animation:rise 2s linear forwards; z-index:5;}
@keyframes rise{0%{transform:translateY(0) scale(1);}100%{transform:translateY(-200px) scale(1.5);opacity:0;}}
canvas{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none; z-index:0;}
#message{position:absolute;bottom:10%;width:100%;text-align:center;font-size:1.5em;color:#fff;text-shadow:1px 1px #000;display:none; z-index:10;}
</style>
</head>
<body>

<canvas id="confetti-canvas"></canvas>

<div id="container">
  <h1 class="line1">Selamat Ulang Tahun</h1>
  <h1 class="line2">Cinta</h1>
  <button id="startBtn">Buka Hadiahmu üéÅ</button>
  <div id="message">Semoga hari ini penuh kebahagiaan & kejutan üéâ</div>
</div>

<audio id="sut.mp3"></audio>
<audio id="pop-sound" src="https://assets.mixkit.co/sfx/preview/mixkit-fast-small-sweep-transition-166.wav"></audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script>
const container = document.getElementById('container');
const startBtn = document.getElementById('startBtn');
const music = document.getElementById('birthday-music');
const popSound = document.getElementById('pop-sound');
const message = document.getElementById('message');
const body = document.body;

const photos = [
  'https://akcdn.detik.net.id/community/media/visual/2025/02/14/pasangan-artis-rayakan-hari-valentine-7.jpeg',
  'https://awsimages.detik.net.id/community/media/visual/2018/12/20/637f95db-79cb-44f7-a25b-4f20393cc8a4_43.jpeg',
  'https://asset.kompas.com/crops/b0ZL4BNJmyZ99w3tuWJS7Y-O7cA=/0x0:1000x667/1200x800/data/photo/2022/07/22/62da579646ae6.jpg',
  'https://www.dbs.id/id/iwov-resources/images/blog/Rencanakan-Wisata-Romantis-1404x630.jpg'
];

let started=false;

// Background gradient animation
const gradients = [
  ['#ff9a9e','#fad0c4'],
  ['#a1c4fd','#c2e9fb'],
  ['#fbc2eb','#a6c1ee'],
  ['#fdcbf1','#e6dee9'],
  ['#fddb92','#d1fdff']
];
let gradIndex=0;
setInterval(()=>{
  gradIndex = (gradIndex+1)%gradients.length;
  body.style.background = `linear-gradient(120deg,${gradients[gradIndex][0]},${gradients[gradIndex][1]})`;
},3000);

// Show button setelah tulisan fade-in
window.addEventListener('load', ()=>{
  setTimeout(()=>{startBtn.classList.add('show');},3000);
});

// Confetti terus menerus
function startConfettiLoop(){
  const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };
  setInterval(function(){
    confetti(Object.assign({}, defaults, { 
      particleCount: 30 + Math.random()*30,
      origin:{ x:Math.random(), y:Math.random()-0.2 } 
    }));
  }, 250);
}

// Foto auto muncul dengan efek smooth
function startAutoPhotos(){
  setInterval(()=>{
    const img = document.createElement('img');
    img.src = photos[Math.floor(Math.random()*photos.length)];
    img.classList.add('photo');
    
    // posisi random
    img.style.top = (Math.random()*60+20)+'%';
    img.style.left = (Math.random()*60+20)+'%';
    
    // ukuran kecil & proporsional
    const size = 80 + Math.random()*40; // width antara 80-120px
    img.style.width = size+'px';
    
    img.style.transform = 'scale(0)';
    container.appendChild(img);
    
    // efek smooth muncul
    setTimeout(()=>{
      img.style.opacity = 1;
      img.style.transform = 'scale(1)';
    },50);
    
    // hapus setelah beberapa detik
    setTimeout(()=>{img.remove();},5000);
  }, 1000);
}

// Balon kecil terbang
function startBalloons(){
  const colors = ['#ff6b6b','#feca57','#48dbfb','#1dd1a1','#ff9ff3'];
  setInterval(()=>{
    const balloon = document.createElement('div');
    balloon.style.position = 'absolute';
    balloon.style.bottom = '-50px';
    balloon.style.left = Math.random()*90 + 'vw';
    balloon.style.width = balloon.style.height = (20 + Math.random()*30) + 'px';
    balloon.style.background = colors[Math.floor(Math.random()*colors.length)];
    balloon.style.borderRadius = '50%';
    balloon.style.opacity = 0.8;
    balloon.style.zIndex = 4;
    balloon.style.transition = 'transform 8s linear, opacity 8s linear';
    container.appendChild(balloon);

    setTimeout(()=>{
      const rotate = (Math.random()*60-30) + 'deg';
      balloon.style.transform = `translateY(-120vh) rotate(${rotate})`;
      balloon.style.opacity = 0;
    },50);

    setTimeout(()=>{balloon.remove();},8000);
  },500);
}

// Start interactive mode
startBtn.onclick = () => {
  startBtn.style.display='none';
  music.play();
  startConfettiLoop(); // confetti nonstop
  startAutoPhotos(); // foto auto muncul
  startBalloons(); // balon terbang
  started=true;
};

// Touch/click untuk emoji + sound
container.addEventListener('click', (e)=>{
  if(!started) return;

  const emojis = ['üéà','üéâ','üíñ','ü•≥','üç∞','üéÅ','‚ú®','üéµ'];
  const em = document.createElement('div');
  em.classList.add('emoji');
  em.style.left = e.clientX+'px';
  em.style.top = e.clientY+'px';
  em.textContent = emojis[Math.floor(Math.random()*emojis.length)];
  container.appendChild(em);
  setTimeout(()=>{em.remove();},2000);

  popSound.currentTime=0;
  popSound.play();

  const h1s = container.querySelectorAll('h1');
  h1s.forEach(h1=>{
    h1.style.transition='transform 0.2s';
    h1.style.transform='scale(1.05)';
    setTimeout(()=>{h1.style.transform='scale(1)';},200);
  });

  if(Math.random()<0.3){message.style.display='block';}
});
</script>
</body>
</html>

